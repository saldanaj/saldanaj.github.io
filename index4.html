<!DOCTYPE html>
<!--
Student: Joaquin Saldana 
Assignment: How to guide - BreweryDB
Description: this is the beginners page to the How To Guide for 
CS290.  This guide will discuss how to properly access the BreweryDB API, 
in addition, clarify certain roadblocks that may happen along the way, ex: if you 
want to access the API locally, what the user will need to do in order to make that 
happen 

This page talk about what we can do with the data and gives an example on how we can create a small 
program (hopefully on J)  
-->

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Brewery DB API How To Guide</title>
    <meta name="Guide on how to access the BreweryDB API">
    <meta author="Joaquin Saldana">

    <!-- IN CASE I WANT TO ADD AN ICON TO THE PAGE --> 
    <link rel="icon" href="http://www.brewerydb.com/img/logo_small.png">
    


    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="blogOverride.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="blog.css" rel="stylesheet">

  </head>
  
  <body>

  	  <div class="blog-masthead">
	      <div class="container">
	        <nav class="blog-nav">
	          <a class="blog-nav-item" href="index.html">BreweryDB API Info</a>
	          <a class="blog-nav-item" href="index2.html">Get Your API Key</a>
	          <a class="blog-nav-item" href="index3.html">Setting Up Your Own Server</a>
	          <a class="blog-nav-item active" href="index4.html">How To Put It To Use</a>
	          <a class="blog-nav-item" href="index5.html">Exit Notes</a>
	        </nav>
	      </div>
    </div>

    <div class="container">



   		<div class="blog-header">
        <h1 class="blog-title">How To Put It To Use</h1>
        	<p class="lead blog-description">Now that we know how to access the database, let's see what we can do with the data.</p>
      </div>

      	<div class="row">

      		<div class="col-sm-8 blog-main">


      		<div class="blog-post">
      			<h2 class="blog-post-title">Querying the Database</h2>
      				<!-- THIS IS WHERE YOU INSERT THE BODY OF THE PAGE AND WHAT YOU WANT TO DISCUSS -->
              <p>So your probably asking, <i>Ok I know how to acces the API, but what can I do with this?</i> Great question.  I'll show some simple code that will help you query the data and return information about your favorite beer, and if you see anything you see wrong, well you can submit a strong recommendation if wish via a POST request, but that's another topic for another day.  
						  </p>
              <p><strong>WARNING!</strong> Alot of this code may seem complex and confusing, but dont feel intimidated.  I will try my best to guide you along the way and explain <i>(very litely)</i> on what the code means and does.  </p>

              <h3>Mustache handlebars</h3>
              <p>To create a dynamic site that, at the very least, is more pleasing to the eye, you will need to install mustache handlebars.  <a href="http://handlebarsjs.com/" title="Mustache HandlebarsJS">Click Here</a> for instructions on how to install the package.</p>

              <p>As stated in the guide, in the directory you wish to work from you'll need to create a <i>"Views"</i> folder and in that folder you'll need to create another folder titled <i>"Layouts"</i>.  In the layouts folder you'll want to store a generic HTML file that contains the following code: 
              </p>

              <img src="main.handlebars.jpg">

              <p></p>

              <p>
                Next you'll want to create a handlebar file that will contain dynamically display the following information we care to know about our favorite beer: 
              </p>
              <ul>
                <li>Beer Name</li>
                <li>Beer Description</li>
                <li>Style</li>
                <li>Style Information</li>
                <li>Image of the Label</li>
              </ul>

              <p>Below is an image on how the file should look.  Dont worry about the curly just know you'll need to replicate this file/code and place the file in your "Views" folder.</p>

              <img src="dynamicfile.handlebar.jpg">
              <p></p>
              <p></p>
              <p></p>

              <h3>Server.js File</h3>
              <p>Now, remember that server.js file we worked on earlier?  We're going to make some small changes so we can now display the data in a nice HTML file.</p>

              <p>First, your going to want to <I>"parse"</I> the data returned by the API.  If you notice the output in the last page, the API is going to return an array of several fields.  But the only field we care for is the <i>"data"</i> key and it's values inside.  Below is an example of the code you'll need to enter into your already existing server.js file</p>

              <p></p>

              <img src="parsedata.handlebars.jpg">

              <p></p>

              <p>
                Next, your going to need to <code>app.get</code> request.  Since the returned value is an array, you'll need to come through the array to find the information you need, next assign that data to the context of the handlebar template that will display the data to you, and render the HTML page.  
              </p>

              <p></p>
              <img src="serverfile.handlebar.jpg">
              <p></p>

              <p>Last, but not least, we run our <i>server.js</i> file via Command Prompt or Command Line and below is the data you can expect to see when visiting <code>http://localhost:8000/getBeers</code> </p>

              <p></p>
              <img src="serverjsfileoutput.handlebars.jpg">
              <p></p>

              <p>Notice any errors on your favorite beer's information at BreweryDB? <strong>I mean how dare they get it wrong, right?!</strong>.  Well you can submit a POST or PUT request to add or change data in their database.  Any changes will require administrator approval.</p>

						
 				   </div><!-- /.blog-post -->

 				<nav>
            <ul class="pager">
                <li><a href="index3.html">Previous</a></li>
		            <li><a href="index5.html">Next</a></li>
            </ul>
        </nav>

			</div><!-- /.blog-main -->


			<div class="col-sm-3 col-sm-offset-1 blog-sidebar">
				<img src="http://www.brewerydb.com/img/logo_small.png">
		        <div class="sidebar-module">
		        	<h4>Important Links</h4>
		            	<ol class="list-unstyled">
		              		<li><a href="http://www.brewerydb.com/developers">BreweryDB API</a></li>
		              		<li><a href="https://nodejs.org/en/">Node.js</a></li>
		              		<li><a href="http://expressjs.com/">Express.js</a></li>
		              		<li><a href="https://jsfiddle.net/">JSFiddle</a></li>
		            	</ol>
		        </div>
        	</div><!-- /.blog-sidebar -->

        </div><!-- /.row -->

    </div><!-- /.container -->


	 <footer class="blog-footer">
      <p>Built by Joaquin Saldana using <a href="http://getbootstrap.com">Bootstrap</a>.</p>
      <p>
        <a href="#">Back to top</a>
      </p>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>